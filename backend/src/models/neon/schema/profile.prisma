model Profile {
  id            String            @id
  username      String            @unique
  user          User              @relation(references: [id, username], fields: [id, username], onDelete: Cascade)
  name          String
  avatar        String?
  bio           String?
  follower      Follows[]         @relation("follower")
  following     Follows[]         @relation("following")
  likes         PostLike[]
  posts         Post[]
  comments      PostComment[]
  updatedAt     DateTime          @updatedAt
  createdAt     DateTime          @default(now())
  commentsLikes PostCommentLike[]

  @@unique([id, username])
}

model Follows {
  followerId  String
  follower    Profile  @relation("follower", references: [id], fields: [followerId], onDelete: Cascade)
  followingId String
  following   Profile  @relation("following", references: [id], fields: [followingId], onDelete: Cascade)
  updatedAt   DateTime @updatedAt
  createdAt   DateTime @default(now())

  @@id([followerId, followingId])
}
